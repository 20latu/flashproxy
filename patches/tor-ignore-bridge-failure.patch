This patch causes Tor to ignore bridge reachability failures. This is
helpful when the bridge is only intermittently available, as when
connecting through a flash proxy.

diff --git a/src/or/circuitbuild.c b/src/or/circuitbuild.c
index f7d5524..0ffcf06 100644
--- a/src/or/circuitbuild.c
+++ b/src/or/circuitbuild.c
@@ -3894,6 +3894,10 @@ entry_guard_register_connect_status(const char *digest, int succeeded,
   int idx = -1;
   char buf[HEX_DIGEST_LEN+1];
 
+  /* Ignore bridge reachability problems. */
+  if (! succeeded)
+    return 0;
+
   if (! entry_guards)
     return 0;
 
